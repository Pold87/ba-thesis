<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Knowledge Engineering Tools for Planning in PDDL - Syntax Highlighting, Task Generation and Plan Visualization and Execution - an extensible framework</title>
<!-- 2014-03-04 Tue 18:11 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Volker Strobel" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="../../css/bootstrap.css" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/javascript" src="http://orgmode.org/mathjax/MathJax.js"></script>
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
    MathJax.Hub.Config({
        // Only one of the two following lines, depending on user settings
        // First allows browser-native MathML display, second forces HTML/CSS
        //  config: ["MMLorHTML.js"], jax: ["input/TeX"],
            jax: ["input/TeX", "output/HTML-CSS"],
        extensions: ["tex2jax.js","TeX/AMSmath.js","TeX/AMSsymbols.js",
                     "TeX/noUndefined.js"],
        tex2jax: {
            inlineMath: [ ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"], ["\\begin{displaymath}","\\end{displaymath}"] ],
            skipTags: ["script","noscript","style","textarea","pre","code"],
            ignoreClass: "tex2jax_ignore",
            processEscapes: false,
            processEnvironments: true,
            preview: "TeX"
        },
        showProcessingMessages: true,
        displayAlign: "center",
        displayIndent: "2em",

        "HTML-CSS": {
             scale: 100,
             availableFonts: ["STIX","TeX"],
             preferredFont: "TeX",
             webFont: "TeX",
             imageFont: "TeX",
             showMathMenu: true,
        },
        MMLorHTML: {
             prefer: {
                 MSIE:    "MML",
                 Firefox: "MML",
                 Opera:   "HTML",
                 other:   "HTML"
             }
        }
    });
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Knowledge Engineering Tools for Planning in PDDL - Syntax Highlighting, Task Generation and Plan Visualization and Execution - an extensible framework</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. Introduction</a></li>
<li><a href="#sec-2">2. Related Work</a>
<ul>
<li><a href="#sec-2-1">2.1. PDDL Studio</a></li>
<li><a href="#sec-2-2">2.2. PDDL Mode for Emacs</a></li>
<li><a href="#sec-2-3">2.3. itSIMPLE</a></li>
<li><a href="#sec-2-4">2.4. GIPO</a></li>
<li><a href="#sec-2-5">2.5. ModPlan</a></li>
<li><a href="#sec-2-6">2.6. VISPLAN</a></li>
<li><a href="#sec-2-7">2.7. Conclusion</a></li>
</ul>
</li>
<li><a href="#sec-3">3. Planning Basics and PDDL</a>
<ul>
<li><a href="#sec-3-1">3.1. Domain File</a>
<ul>
<li><a href="#sec-3-1-1">3.1.1. Define</a></li>
<li><a href="#sec-3-1-2">3.1.2. Requirements</a></li>
<li><a href="#sec-3-1-3">3.1.3. Types</a></li>
<li><a href="#sec-3-1-4">3.1.4. Functions</a></li>
<li><a href="#sec-3-1-5">3.1.5. Actions</a></li>
</ul>
</li>
<li><a href="#sec-3-2">3.2. Problem File</a></li>
<li><a href="#sec-3-3">3.3. Planning</a></li>
</ul>
</li>
<li><a href="#sec-4">4. Software Engineering Tools for AI Planning</a>
<ul>
<li><a href="#sec-4-1">4.1. Statement of Problem</a></li>
<li><a href="#sec-4-2">4.2. Syntax Highlighting and Code Snippets</a>
<ul>
<li><a href="#sec-4-2-1">4.2.1. Implementation</a></li>
<li><a href="#sec-4-2-2">4.2.2. Usage and Customization</a></li>
<li><a href="#sec-4-2-3">4.2.3. Evaluation</a></li>
</ul>
</li>
<li><a href="#sec-4-3">4.3. Clojure Interface</a>
<ul>
<li><a href="#sec-4-3-1">4.3.1. Basics</a></li>
<li><a href="#sec-4-3-2">4.3.2. Functions</a></li>
<li><a href="#sec-4-3-3">4.3.3. Numerical Expressiveness</a></li>
</ul>
</li>
<li><a href="#sec-4-4">4.4. Type Diagram Generator</a></li>
</ul>
</li>
<li><a href="#sec-5">5. Analysis</a>
<ul>
<li><a href="#sec-5-1">5.1. Participants</a></li>
<li><a href="#sec-5-2">5.2. Material</a></li>
<li><a href="#sec-5-3">5.3. Design</a></li>
<li><a href="#sec-5-4">5.4. Procedure</a></li>
</ul>
</li>
<li><a href="#sec-6">6. Conclusion and Outlook</a>
<ul>
<li><a href="#sec-6-1">6.1. Outlook</a></li>
</ul>
</li>
<li><a href="#sec-7">7. Appendix</a></li>
</ul>
</div>
</div>
<div class="abstract">
<p>
Automated planning and scheduling blazes a trail for artificial
intelligent behavior. PDDL, a planning language widely used for AI
task specifications requires extensive knowledge engineering effort.
After giving an overview of PDDL syntax and planning basics, a plug-in
(including syntax highlighting) for the code editor Sublime Text and
related editors will be given. A type diagram generator will be
presented that supports modeling of the environment. The usability of
these tools will be evaluated by subjects without prior knowledge in
PDDL. By the use of these tool, the average modeling time of a shorter
task specification could be improved by &#x2026; percent and the error rate
could be reduced from &#x2026; to &#x2026; . Furthermore, this thesis will
present approaches for the automatic generation of task specifications
and provide a basic interface between the functional programming
language Clojure and PDDL. The proposed tools can assist knowledge
engineers in the design process.
</p>

<p>
<a href="https://www.ece.cmu.edu/~koopman/essays/abstract.html">https://www.ece.cmu.edu/~koopman/essays/abstract.html</a>
</p>

</div>
<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Introduction</h2>
<div class="outline-text-2" id="text-1">
<div class="inlinetask">
<b>TODO:</b><br  />
<ul class="org-ul">
<li>Scope of the article (What did I miss out, what is included?)
</li>
<li>Name Tools and provide found possibilities and limitations
</li>
<li>Motivation: Why is this article interesting?
</li>
<li>Structure of the article
</li>
<li>Review of relevant literature? Note: I can review the relevant
literature and related work in the related chapter, if this is
convenient
</li>
<li>Planning Architecture - 3 Tier Architecture
</li>
<li>ICAPS
</li>
<li>Handicapped people -&gt; Planning Interaction
</li>
<li>Why is something interesting? -&gt; reasons! (and not because it does
not exist yet)
</li>
</ul>
</div>

<p>
Planning is one the the classic Artificial Intelligence (AI) tasks.
Knowledge engineering (KE), that means representing world information
in a computer system, is the crucial step for utilizing AI planning
systems to solve problems. By definition (TODO: &#x2026;), it requires an
human expert who knows the underlying syntax and models the
information manually. This process is naturally error-prone and
time-consuming. While planning systems are improving steadily (&#x2026;),
the main work for useful systems lies on the representing language.
The Planning Domain Definition Language (PDDL)
\parencite{mcdermott1998pddl} allows for a standardized way of
specifying planning tasks. While on the one hand, recent PDDL
extensions \parencite{fox2003pddl2,kovacs2011bnf} extended the
expressiveness of PDDL and tackle a route for real-world applications,
they also demand a higher level of knowledge and attention of the
knowledge engineer. Particularly with the start in 2005 of the
International Competition on Knowledge Engineering for Planning and
Scheduling (ICKEPS), new tools for the shift from at the modeling
process from a text based 'programming paradigm' to a user-friendly
graphical design tool exist, however, they also arouse drawbacks:
limited functionality, expenditure of time, editing difficulty, to
name a few. As in other computer languages, so far, there is no real
way around diving into the 'code paradigm'. Despite recent advances in
the area, the performance of planning &amp; scheduling systems is still
dependent to a large extent on how problems and domains are
formulated, resulting in the need for careful system fine-tuning
(copied 1:1). This thesis will, after introducing the basic terms and
definitions of PDDL, focus on the software support for knowledge
engineers. A package for the text and source code editor Sublime Text
(ST) will be introduced, that provides syntax highlighting and PDDL
templates. And the functionality is transferred to a on-line editor
with instant access. Together with this package, a basic interface
between the functional programming language Clojure and PDDL is
developed. In this process, a UML 'type diagram' generator, derived
from UML class diagrams for Object Oriented Programming, is presented
that supports the knowledge engineer in keeping in keeping track
during the design process and gain a fast overview of existing domains
and problems.
</p>

<p>
The main focus of this thesis is about real world applications and the
development of handy tools that support (and partially automatize) the
planning process. 
</p>
</div>
</div>
<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Related Work</h2>
<div class="outline-text-2" id="text-2">
</div><div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1"><span class="section-number-3">2.1</span> PDDL Studio</h3>
<div class="outline-text-3" id="text-2-1">
<p>
PDDL Studio \parencite{plch2012inspect} is an Integrated Development
Environment (IDE) for creating PDDL tasks (domains and problems) with
supporting editing features that are based on a PDDL parser, like
syntax highlighting, code collapsing and code completion. It provides
a sophisticated on the fly error detection, that splits errors in
syntax errors, semantic errors and errors found during parsing. The
code completion feature allows completion for standard PDDL constructs
and dynamic list completions, that were used in the current project
(TODO: technical terms!).
</p>

<p>
Tasks are organized into project, that means a project is composed of
a domain and associated problem(s).
</p>

<p>
An interface allows the integration of command line planners in order
to run and compare different planning software.
</p>

<p>
Furthermore it provides a XML Export/Import feature (i.e. XML-&gt;PDDL,
PDDL-&gt;XML) and further common editor features like a line counter,
bracket matcher and a auto-save feature.
</p>

<p>
that means syntax and semantic checking, syntax highlighting, code
completion and project management. While colors for highlighted code
can be customized, the background color of the tool is always white.
</p>
</div>
</div>
<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2"><span class="section-number-3">2.2</span> PDDL Mode for Emacs</h3>
<div class="outline-text-3" id="text-2-2">
<p>
PDDL-mode is a major Emacs mode for browsing and editing PDDL 2.2
files. It supports syntax highlighting by basic pattern matching,
regardless of the current semantic, automatic indentation and
completions. Code snippets for the insertion of domains, problems and
actions are provided. A declaration menu shows all actions and
problems in the current PDDL file.
</p>
</div>
</div>
<div id="outline-container-sec-2-3" class="outline-3">
<h3 id="sec-2-3"><span class="section-number-3">2.3</span> itSIMPLE</h3>
<div class="outline-text-3" id="text-2-3">
<p>
The itSIMPLE project is a tool that supports the knowledge engineer in
designing a PDDL domain by the use of UML diagrams. This approach is
reversed to the approach mentioned in this paper: while itSIMPLE
generates PDDL from UML, this paper generated UML from PDDL. 
</p>
</div>
</div>
<div id="outline-container-sec-2-4" class="outline-3">
<h3 id="sec-2-4"><span class="section-number-3">2.4</span> GIPO</h3>
</div>

<div id="outline-container-sec-2-5" class="outline-3">
<h3 id="sec-2-5"><span class="section-number-3">2.5</span> ModPlan</h3>
<div class="outline-text-3" id="text-2-5">
<p>
Also see VEGA plan visulazation on the MODplan page
</p>
<ul class="org-ul">
<li>Very interesting: <a href="http://www.tzi.de/~edelkamp/modplan/">http://www.tzi.de/~edelkamp/modplan/</a>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-2-6" class="outline-3">
<h3 id="sec-2-6"><span class="section-number-3">2.6</span> VISPLAN</h3>
</div>


<div id="outline-container-sec-2-7" class="outline-3">
<h3 id="sec-2-7"><span class="section-number-3">2.7</span> Conclusion</h3>
<div class="outline-text-3" id="text-2-7">
<p>
As it can be seen, there is need for an up-to-date, customizable, text
editor with PDDL support, that supports the current standard PDDL 3.1. 
</p>
</div>
</div>
</div>
<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> Planning Basics and PDDL</h2>
<div class="outline-text-2" id="text-3">
<div class="inlinetask">
<b></b><br  />
<ul class="org-ul">
<li>Brief summary at start
</li>
<li>Start with a paragraph that describes the context
</li>
<li>Very interesing for basics of PDDL:
</li>
<li><a href="http://www.ida.liu.se/~TDDC17/info/labs/planning/writing.html">http://www.ida.liu.se/~TDDC17/info/labs/planning/writing.html</a>
</li>
<li>Konstruktionsanleitung
</li>
<li>Propositionale Logic -&gt; Articifial Intelligence a Modern Approach
</li>
<li>To insert somewhere:
<ul class="org-ul">
<li>It should be mentioned, that almost no planner supports every part
of PDDL. And, additionally, the quality of error messages is very
diversified. While some simple state: error occured, other list the
problem and the line.
</li>
</ul>
</li>
</ul>
</div>


<p>
Introduction to planing:
<a href="http://books.google.de/books?id=eCj3cKC_3ikC&printsec=frontcover&dq=automated+planning&hl=en&sa=X&ei=3wgNU5fQIcHx4gSTsoDABA&redir_esc=y#v=onepage&q=automated%20planning&f=false">http://books.google.de/books?id=eCj3cKC_3ikC&printsec=frontcover&dq=automated+planning&hl=en&sa=X&ei=3wgNU5fQIcHx4gSTsoDABA&redir_esc=y#v=onepage&q=automated%20planning&f=false</a>
</p>

<p>
AI planning describes &#x2026;
</p>

<p>
A planner and use the generated solution file (<i>plan</i>).
</p>

<p>
PDDL was first described in PDDL-the planning domain definition
language (1998) and has been in constant development since then.
This thesis makes use of \textcite{pddl3.1} if not otherwise stated. 
</p>

<p>
PDDL planning task specifications are composed of two separate text files:
</p>

<ul class="org-ul">
<li>Domain file: description of general types, predicates, functions
and actions -&gt; uninstanciated problem independent
</li>
<li>Problem file: description of a concrete problem environment -&gt; instance speciÔ¨Åc
</li>
</ul>

<p>
This separation allows for an intuitive process of task modeling:
While general instances are described in the domain file, specific
instances of problems are created in the problem files.
</p>

<p>
<a href="../img/pddl-workflow.pdf">../img/pddl-workflow.pdf</a>
</p>

<p>
These two files shell be investigated further in the following
sections.
</p>
</div>


<div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1"><span class="section-number-3">3.1</span> Domain File</h3>
<div class="outline-text-3" id="text-3-1">
<p>
The domain file contains the frame for planning tasks and determines,
which types, predicates and actions are possible
</p>

<p>
Domain files have a strict format: All keyword arguments must appear
in the order specified in the manual (an argument may be omitted) and
just one PDDL definition (of a domain, problem, etc.) may appear per
file. \cite[6]{fox2003pddl2}.
</p>

<div class="inlinetask">
<b></b><br  />
<p>
Include simple domain -&gt; LaTeX
Include simple problem -&gt; LaTeX
Include simple plan -&gt; not yet in LaTeX
</p>
</div>
</div>

<div id="outline-container-sec-3-1-1" class="outline-4">
<h4 id="sec-3-1-1"><span class="section-number-4">3.1.1</span> Define</h4>
<div class="outline-text-4" id="text-3-1-1">
<p>
Every domain file starts with (define (domain &lt;domainName&gt;) &#x2026;) where,
&lt;domainName&gt; can be any string.
</p>
</div>
</div>
<div id="outline-container-sec-3-1-2" class="outline-4">
<h4 id="sec-3-1-2"><span class="section-number-4">3.1.2</span> Requirements</h4>
<div class="outline-text-4" id="text-3-1-2">
<p>
The requirements part is not a mandatory part of a PDDL domain file.
However, PDDL supports different "levels of expressivity", that means
subsets of PDDL features \textcite[1]{mcdermott1998pddl}. As most
planners only support a subset of PDDL the requirements part is useful
for determining if a planner is able to act on a given problem. They
are declared by the <code>(:requirements ...)</code> part. Some often used
requirements include <code>:strips</code> 
For a list of current requirement flags and their meaning, see &#x2026;
</p>
</div>
</div>

<div id="outline-container-sec-3-1-3" class="outline-4">
<h4 id="sec-3-1-3"><span class="section-number-4">3.1.3</span> Types</h4>
<div class="outline-text-4" id="text-3-1-3">
<p>
If order to be able to use types in a domain file, the
requirement :typing should be declared (TODO: is :adl enough?).
</p>

<p>
In order to assign categories to objects, PDDL allows for
type definitions. Like that, parameters in actions can be typed, as
well as arguments in predicates, functions [extra source!]. Later, in
the problem file, objects will be assigned to types, like objects to
classes in Object Orientated Programming (OOP). Adding to the
(:requirement &#x2026;) part of the file guarantees, that typing can be
correctly used. Strips (no types) vs ADL (types).
</p>
</div>
</div>

<div id="outline-container-sec-3-1-4" class="outline-4">
<h4 id="sec-3-1-4"><span class="section-number-4">3.1.4</span> Functions</h4>
<div class="outline-text-4" id="text-3-1-4">
<p>
Functions are not supported by many planners (source!) and, before
PDDL 3.1 they could only be modeled as 
</p>

<p>
It is notable that before PDDL 3.0 the keyword functors was used instead
</p>
</div>
</div>
<div id="outline-container-sec-3-1-5" class="outline-4">
<h4 id="sec-3-1-5"><span class="section-number-4">3.1.5</span> Actions</h4>
<div class="outline-text-4" id="text-3-1-5">
<p>
PDDL 3.1 supports two types of actions: durative-action and the
'regular' action.
</p>
</div>
</div>
</div>
<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2"><span class="section-number-3">3.2</span> Problem File</h3>
<div class="outline-text-3" id="text-3-2">
<p>
Problems are designed with respect to a domain. Domains usually have
multiple problems p01.pddl, p02.pddl, &#x2026; Problems declare the initial
world state and the goal state to be reached. They instantiate types,
in they way that they create objects 
</p>
</div>
</div>
<div id="outline-container-sec-3-3" class="outline-3">
<h3 id="sec-3-3"><span class="section-number-3">3.3</span> Planning</h3>
<div class="outline-text-3" id="text-3-3">
<p>
A planning solution is a sequence of actions that lead from the
initial state to the goal state. PDDL itself does not declare any
uniform plan layout.
</p>

<p>
The input to the planning software is a domain and a belonging
problem, the output is usually a totally or partially ordered plan.
are software tools that Due to the yearly ICAPS, there is a broad
range of available planners. This thesis uses the planner SGPLAN<sub>6</sub>
\textcite{hsu2008sgplan}, a 'extensive' (in the sense of its
supporting features) planner for both temporal and non-temporal
planning problems.
</p>

<p>
An overview of different planners is given at
<a href="http://ipc.informatik.uni-freiburg.de/Planners">http://ipc.informatik.uni-freiburg.de/Planners</a>.
</p>
</div>
</div>
</div>
<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> Software Engineering Tools for AI Planning</h2>
<div class="outline-text-2" id="text-4">
<div class="inlinetask">
<b></b><br  />
<ul class="org-ul">
<li>PDDL type hierarchy and object instantiation to UML / TikZ, store
predicates (and action?) in same box as type 
</li>
<li>Research Knowledge Engineering in Planning
</li>
<li>Human Computer Interaction
<ul class="org-ul">
<li><a href="http://hci.waznelle.com/checklist.php">http://hci.waznelle.com/checklist.php</a>
</li>
</ul>
</li>
<li>Write Tiago (itSimple) regarding PDDL -&gt; UML (and knowledge
engineering in general
</li>
<li>ICKEPS (International Competition on Knowledge Engineering for
Planning and Scheduling)
</li>
<li>Orient on "How to Design Classes"
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-4-1" class="outline-3">
<h3 id="sec-4-1"><span class="section-number-3">4.1</span> Statement of Problem</h3>
<div class="outline-text-3" id="text-4-1">
<p>
Writing and maintaining PDDL files can be time-consuming and
cumbersome \textcite{li2012translating}. So, the following development
tools shell support and facilitate the PDDL task design process and
reduce potential errors.
</p>

<p>
Below, methods are presented for
</p>

<dl class="org-dl">
<dt> Syntax Highlighting and Code Snippets </dt><dd>Environment for Editing
PDDL files
</dd>
<dt> Class Diagram Generator </dt><dd>The automation of the PDDL task design process. File
input and output and dynamic generation (design level)
</dd>
<dt> Human Planner Interaction </dt><dd>An interactive PDDL environment: speech synthesis and
recognition.
</dd>
<dt> Domain Generator </dt><dd>Mathematical limitations (design level)
</dd>
</dl>
</div>
</div>
<div id="outline-container-sec-4-2" class="outline-3">
<h3 id="sec-4-2"><span class="section-number-3">4.2</span> Syntax Highlighting and Code Snippets</h3>
<div class="outline-text-3" id="text-4-2">
<p>
<a id="sec:syntax"></a>
</p>

<p>
Writing extensive domain and problem files is a cumbersome task:
longer files can get quickly confusing. Therefore, it is convenient to
have a tool that supports editing these files. Syntax highlighting
describes the feature of text editors of displaying code in different
colors and fonts according to the category of terms (source: Wiki). A
syntax highlighting plug-in for the text and source code editors
\textcite{sublimetext2} and \textcite{sublimetext3} is proposed and
transferred to the on-line text editor Ace are used to implement this
feature, as ST Syntax Highlighting files can easily be converted to
Ace Files. 
</p>

<p>
For Mac user, TextMate (TM) is very similar to ST and the syntax
highlighting file can be used there, too. Besides, the general
principles (e.g. regular expressions) outlined here, apply to most of
other editors as well. So, a Pygments extension was written, that
allows for syntax highlighting in \LaTeX documents.
</p>
</div>


<div id="outline-container-sec-4-2-1" class="outline-4">
<h4 id="sec-4-2-1"><span class="section-number-4">4.2.1</span> Implementation</h4>
<div class="outline-text-4" id="text-4-2-1">
<p>
ST syntax definitions are written in property lists in the XML format.
</p>

<p>
The syntax definition is implemented by the use of the ST plug-in
\textcite{aaapackagedev}. So, the definitions can be written in YAML
in converted to Plist XML later on.
AAAPackageDEV\textcite{aaapackagedev} is a ST plugin, that helps to
create, amongst others, ST packages, syntax definitions and 'snippets'
(re-usable code).
</p>

<p>
By means of Oniguruma regular expressions \parencite{kosako}, scopes
are defined, that determine the meaning of the PDDL code block. The
scope naming conventions mentioned in the \citetitle{textmate} are
applied here. By the means of the name, the colors are assigned.
Different ST themes display different colors (not all themes support
all naming conventions).
</p>

<p>
The syntax highlighting is intended for PDDL 3.1, but is downward
compatible, as previous versions are subsets of later versions.
</p>
<div class="inlinetask">
<b>Are later versions really subsets?</b><br  />
nil</div>

<p>
The pattern matching heuristic that is implemented by the use of
regular expressions is used for assigning scopes to the parts of the
file. This heuristic is quite sophisticated, as it recognizes
sub-parts of PDDL files and chooses the color accordingly. 
</p>


<div id="Screenshot-in-Sublime-Text-3" class="figure">
<p><img src="file:///home/pold/Pictures/ba.png" alt="ba.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-sec-4-2-2" class="outline-4">
<h4 id="sec-4-2-2"><span class="section-number-4">4.2.2</span> Usage and Customization</h4>
<div class="outline-text-4" id="text-4-2-2">
<p>
To enable syntax highlighting and code snippets in ST, the files of
the repository have to be placed in the ST packages folder
(<a href="http://www.sublimetext.com/docs/3/packages.html">http://www.sublimetext.com/docs/3/packages.html</a>). The first part of the
PDDL.YAML-tmlanguage describes the parts of the PDDL task that should
be highlighted. By removing (or commenting) include statements, the
syntax highlighter is adjustable the user's need.
</p>

<p>
By using ST as editor, language independent ST features are supported,
like auto completion, code folding and column selection, described in
the Sublime Text 2 Documentation.
</p>



<p>
The PDDL.YAML-tmlanguage file is split in two parts:
</p>

<p>
By default, all scopes are included.
</p>
</div>
</div>

<div id="outline-container-sec-4-2-3" class="outline-4">
<h4 id="sec-4-2-3"><span class="section-number-4">4.2.3</span> Evaluation</h4>
</div>
</div>

<div id="outline-container-sec-4-3" class="outline-3">
<h3 id="sec-4-3"><span class="section-number-3">4.3</span> Clojure Interface</h3>
<div class="outline-text-3" id="text-4-3">
<p>
PDDL, as planning language modeling capabilities are limited, a
interface with a programming is handy a can reduce dramatically the
modeling time. In IPC, task generators are used write extensive domain
and problem files. 
</p>

<p>
As PDDL's syntax is inspired by LISP \parencite[64]{fox2003pddl2},
using a LISP dialect for the interface seems reasonable. This thesis
uses Clojure \parencite{hickey2008clojure}, a modern LISP
dialect that runs on the Java Virtual Machine.
</p>

<p>
In this section, I will not only show a method for generating PDDL
constructs, but also for reading in PDDL files are handling the input.
</p>
</div>

<div id="outline-container-sec-4-3-1" class="outline-4">
<h4 id="sec-4-3-1"><span class="section-number-4">4.3.1</span> Basics</h4>
<div class="outline-text-4" id="text-4-3-1">
<p>
Through the higher-order filter method in Clojure, parts of PDDL files
can be easily extracted. Like that, one can extract parts of the file
and handle the constructs in a Clojure intern way.
</p>

<p>
As an example, the type handling will be represented here, but the
basic approach is similar for all PDDL constructs.
</p>

<p>
The here developed tools should be platform independent with a
development focus in UNIX/Linux systems, as most planners (source!)
run on Linux.
</p>
</div>
</div>
<div id="outline-container-sec-4-3-2" class="outline-4">
<h4 id="sec-4-3-2"><span class="section-number-4">4.3.2</span> Functions</h4>
<div class="outline-text-4" id="text-4-3-2">
<p>
As functions have a return value, the modeling possibilities
dramatically increase.
</p>
</div>
</div>

<div id="outline-container-sec-4-3-3" class="outline-4">
<h4 id="sec-4-3-3"><span class="section-number-4">4.3.3</span> Numerical Expressiveness</h4>
<div class="outline-text-4" id="text-4-3-3">
<p>
One might assume that the distance could be modeled as follows:
</p>

<pre class="example">
(durative action ...
...
  :duration (= ?duration (sqrt (coord-x )))
...
</pre>

<p>
However, PDDL does only support basic arithmetic operations (+, -, /, *).
</p>

<p>
An Euclidean distance function that uses the square root would be
convenient for distance modeling and measurement. However, PDDL 3.1
supports only four arithmetic operators (+, -, /, *). These
operators can be used in preconditions, effects
(normal/continuous/conditional) and durations.
\textcite{parkinson2012increasing} describe a workaround for this
drawback. By declaring an action `calculate-sqrt', they bypass the
lack of this function and rather write their own action that makes use
of the Babylonian root method.
</p>
</div>

<ol class="org-ol"><li>Alternative #1: Only sqrt exists<br  /><div class="outline-text-5" id="text-4-3-3-1">
<p>
Assuming that a function sqrt would actually exist, the duration could be modeled as follows:
</p>

<pre class="example">
:duration (= ?duration 
             (sqrt
              (+
               (*
                (- (pos-x (current-pos))
                   (pos-x ?goal))
                (- (pos-x (current-pos))
                   (pos-x ?goal)))
               (*
                (- (pos-y (current-pos))
                   (pos-y ?goal))
                (- (pos-y (current-pos))
                   (pos-y ?goal))))))
</pre>
</div>
</li>
<li>Alternative #2: sqrt and expt exist<br  /><div class="outline-text-5" id="text-4-3-3-2">
<p>
Assuming that a function sqrt would actually exist, the duration could be modeled as follows:
</p>
<pre class="example">
:duration (= ?duration 
             (sqrt
              (+
               (expt
                (- 
                 (pos-x (current-pos))
                 (pos-x ?goal)))
               (expt
                (- 
                 (pos-y (current-pos))
                 (pos-y ?goal))))))
</pre>
</div>
</li>

<li>Alternative #3: Calculate distance and hard code it, e.g. (distance table kitchen) = 5.9<br  /><div class="outline-text-5" id="text-4-3-3-3">
<ul class="org-ul">
<li>Distance Matrix
</li>
<li><a href="http://stackoverflow.com/questions/20654918/python-how-to-speed-up-calculation-of-distances-between-cities">http://stackoverflow.com/questions/20654918/python-how-to-speed-up-calculation-of-distances-between-cities</a>
</li>
<li>Scipy.spatial.distance (-&gt; Clojure?)
</li>
<li>Mention that the Taxicab geometry allows different ways that have an equal length
</li>
</ul>

<p>
Another alternative is to make use of an external helper and, instead
of calculating every entry of the distance matrix. the distance only
if needed, incorporate every possible combination of two locations.
This approach has certainly a major drawback: With an increasing
amount of locations, the number of combinations increases
exponentially. That means, if there are 100 locations, there will be
</p>
<div class="inlinetask">
<b>TODO: Calculate possibilities</b><br  />
nil</div>
<p>
&#x2026; . The native approach would be to iterate over the cities twice
and calculate only the half of the matrix (as it is symmetric, that
mean distance from A to B is the same as the distance from B to A).
</p>
</div>
</li>

<li>Alternative #4: Use the Manhattan distance<br  /><div class="outline-text-5" id="text-4-3-3-4">
<p>
Allowing the agent to move only vertically and horizontally would be
that one can use the so called Taxicab geometry (or Manhattan length)
as distance measurement.  In the Kitchen domain, this could be modeled
as follows:
</p>

<pre class="example">
% =&gt; Metric: reduce duration

% dKitchenware.pddl 
\begin{figure}[t]
\inputminted[mathescape, linenos, numbersep=5pt, frame=lines, framesep=2mm]
            {csharp}
            {Code/dKitchenware.pddl}
\caption{The basic kitchenware domain}
\end{figure}
\section
</pre>

<div class="inlinetask">
<b>TODO:</b><br  />
<p>
TODO Human Planner Interaction
</p>
</div>
</div>
</li></ol>
</div>
</div>
<div id="outline-container-sec-4-4" class="outline-3">
<h3 id="sec-4-4"><span class="section-number-3">4.4</span> Type Diagram Generator</h3>
<div class="outline-text-3" id="text-4-4">
<div class="inlinetask">
<b></b><br  />
<p>
Add actions to the Type Diagram?
</p>
</div>

<p>
Graphical notations, have some advantages compared to textual
notations, as they simplify the communication between developers and
help to quickly grasp the connection of related system units. 
</p>

<p>
But for all that one disadvantage has to be accepted: 
</p>

<p>
The UML was invented in order to standardize modeling in software
engineering (SE). The UML consists of several part notations, the here
presented tool uses the 'class diagram' notation, as PDDL types and
classes in OOP have strong resemblance (see Tiago 2006, p 535). 
</p>

<p>
Types play a major role in the PDDL design process: they are involved,
besides their definition, in the constants, predicates and actions
part. So, a fine grasp of their hierarchy, as well as their involved
predicates becomes handy and assists the KE in the planning process.
Types strongly resemble classes in object oriented programming
As mentioned in chapter (&#x2026;), the type definitions follow a specific
syntax. For example <code>truck car - vehicle</code> would indicate, that both
<code>truck</code> and <code>car</code> are subtypes of the super-type vehicle. 
</p>

<p>
Subtypes and corresponding super-types can be extracted using regular
expressions. #"(&#x2026;.)" matches every kind of that form and a
Clojure-friendly representation in form of a hash-map can be created.
</p>

<p>
PDDL side &#x2013;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014; Clojure side
</p>

<p>
'(:types &#x2026; &#x2026; &#x2014; &#x2026;)                      {&#x2026; [&#x2026; &#x2026; &#x2026;], &#x2026;}
</p>


<div class="figure">
<p><img src="file:///home/pold/Documents/BA/org-ba/diagram.png" alt="diagram.png" />
</p>
<p><span class="figure-number">Figure 1:</span> Part of a PDDL domain and the corresponding, generated UML diagram</p>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5"><span class="section-number-2">5</span> Analysis</h2>
<div class="outline-text-2" id="text-5">
</div><div id="outline-container-sec-5-1" class="outline-3">
<h3 id="sec-5-1"><span class="section-number-3">5.1</span> Participants</h3>
<div class="outline-text-3" id="text-5-1">
<p>
Ten non-paid students (six female) took part in the experiment. All
had knowledge about LISP syntax, but neither one had faced PDDL prior
to this study. 
</p>
</div>
</div>
<div id="outline-container-sec-5-2" class="outline-3">
<h3 id="sec-5-2"><span class="section-number-3">5.2</span> Material</h3>
<div class="outline-text-3" id="text-5-2">
<p>
The usability of the Syntax Highlighter (see <a href="#sec:syntax">4.2</a>) and the Type
Diagram Generator (see <i>Type Diagram Generator</i>) were
tested.
</p>
</div>
</div>
<div id="outline-container-sec-5-3" class="outline-3">
<h3 id="sec-5-3"><span class="section-number-3">5.3</span> Design</h3>
<div class="outline-text-3" id="text-5-3">
<p>
The participants had to 
</p>
</div>
</div>

<div id="outline-container-sec-5-4" class="outline-3">
<h3 id="sec-5-4"><span class="section-number-3">5.4</span> Procedure</h3>
</div>
</div>
<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6"><span class="section-number-2">6</span> Conclusion and Outlook</h2>
<div class="outline-text-2" id="text-6">
<p>
The tools presented in this thesis have been designed to support
knowledge engineers in planning tasks. They can support engineers in
the early planning design process, as well as in the maintenance of
existing domains and problems. The communication between engineers can
be facilitated and 
</p>
</div>


<div id="outline-container-sec-6-1" class="outline-3">
<h3 id="sec-6-1"><span class="section-number-3">6.1</span> Outlook</h3>
<div class="outline-text-3" id="text-6-1">
<p>
Besides ICKEPS, as mentioned in the introduction, also the yearly
workshop Knowledge Engineering for Planning and Scheduling (KEPS) will
promote the research in planning and scheduling technology.
Potentially, the main effort of for implementing models in planning
will be shifted from the manual KE to the automated knowledge
acquisition (KA). Perception systems, Nevertheless, a engineer who
double-checks the generated tasks will be irreplaceable.
\printbibliography
</p>
</div>
</div>
</div>

<div id="outline-container-sec-7" class="outline-2">
<h2 id="sec-7"><span class="section-number-2">7</span> Appendix</h2>
<div class="outline-text-2" id="text-7">
<p>
&alpha;
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Volker Strobel</p>
<p class="date">Created: 2014-03-04 Tue 18:11</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 24.3.1 (<a href="http://orgmode.org">Org</a> mode 8.2.5h)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
